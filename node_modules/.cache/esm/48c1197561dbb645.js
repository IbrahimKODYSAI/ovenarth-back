let express,courseCtrl,requireSignin,isInstructor,formidable;_61d‍.w("express",[["default",["express"],function(v){express=v}]]);_61d‍.w("../controllers/courseCtrl",[["default",["courseCtrl"],function(v){courseCtrl=v}]]);_61d‍.w("../middlewares",[["requireSignin",["requireSignin"],function(v){requireSignin=v}],["isInstructor",["isInstructor"],function(v){isInstructor=v}]]);_61d‍.w("express-formidable",[["default",["formidable"],function(v){formidable=v}]]);




const router = express.Router();

router.get("/courses", courseCtrl.courses);

router.post("/course/upload-image", requireSignin, courseCtrl.uploadImage);
router.post("/course/remove-image", requireSignin, courseCtrl.removeImage);
router.post("/course/edit-image/:slug", requireSignin, courseCtrl.editImage);
router.post("/course/create", requireSignin, isInstructor, courseCtrl.create);
router.put("/course/edit/:slug", requireSignin, isInstructor, courseCtrl.edit);
router.get("/course/:slug", requireSignin, isInstructor, courseCtrl.read);
router.post(
  "/course/video-upload/:instructorId",
  requireSignin,
  formidable(),
  courseCtrl.uploadVideo
);
router.post(
  "/course/remove-video/:instructorId",
  requireSignin,
  courseCtrl.removeVideo
);
router.post(
  "/course/lesson/:slug/:instructorId",
  requireSignin,
  isInstructor,
  courseCtrl.addLesson
);
router.put(
  "/course/lesson/:slug/:instructorId",
  requireSignin,
  courseCtrl.updateLesson
);
router.put(
  "/course/publish/:courseId",
  requireSignin,
  courseCtrl.publishCourse
);
router.put(
  "/course/unpublish/:courseId",
  requireSignin,
  courseCtrl.unpublishCourse
);

module.exports = router;

// /api/course/lesson/${slug}/${course.instructor._id}
